class Solution {
public:
    double findMedianSortedArrays(vector<int>& nums1, vector<int>& nums2) {
        int total_size = nums1.size() + nums2.size();
        int p1 = 0, p2 = 0, tmp = 0;
        double result = 0.0;

        for (int i = 0; ; ++i) {
            if (total_size % 2 == 1) {
                if (i == total_size / 2 + 1) {
                    result = tmp;
                    break;
                }
            } else if (i == total_size / 2) {
                result = tmp;
            } else if (i == total_size / 2 + 1) {
                result = (result + tmp) / 2;
                break;
            }

            if (p1 == nums1.size()) {
                tmp = nums2[p2];
                p2++;
            } else if (p2 == nums2.size()) {
                tmp = nums1[p1];
                p1++;
            } else if (nums1[p1] < nums2[p2]) {
                tmp = nums1[p1];
                p1++;
            } else {
                tmp = nums2[p2];
                p2++;
            }
        }

        return result;
    }
};
